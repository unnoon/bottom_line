"use strict";!function(a,b){var c=!0,d="function"==typeof define&&!!define.amd,e="undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports;switch(c){case d:define(b);break;case e:module.exports=b();break;default:Object.defineProperty(a,"_",{value:b(),enumerable:!0})}}(this,function(){function a(a,d,h){var i={not:{}},j=i.methods="obj"===d?{not:{}}:Object.create(g.obj.methods,{not:{value:Object.create(g.obj.methods.not)}}),k=i.chains="obj"===d?{not:{}}:Object.create(g.obj.chains,{not:{value:Object.create(g.obj.chains.not)}});Object.defineProperty(i.methods,"chain",{get:function(){return k},enumerable:!1,configurable:!1}),Object.defineProperty(i.chains,"value",{get:function(){return e[--f]},enumerable:!1,configurable:!1}),a&&a.prototype&&Object.defineProperty(a.prototype,"_",{get:function(){return e[f++]=this,j},enumerable:!1,configurable:!1}),b(i,d,h),c(i,d,h),g[d]=i}function b(a,b,c){c.static&&(d(a,{enumerable:!1},c.static),d(a.not,{enumerable:!1,modifier:function(b){return function(){return!b.apply(a,arguments)}}},c.static),d(g,{enumerable:!1,overwrite:!1},c.static),d(g.not,{enumerable:!1,overwrite:!1,modifier:function(b){return function(){return!b.apply(a,arguments)}}},c.static))}function c(a,b,c){c.prototype&&(d(a.methods,{enumerable:!1,modifier:function(a){return function(){return a.apply(e[--f],arguments)}}},c.prototype),d(a.methods.not,{enumerable:!1,modifier:function(a){return function(){return!a.apply(e[--f],arguments)}}},c.prototype),d(a.chains,{enumerable:!1,modifier:function(a){return function(){return a.apply(e[--f],arguments)._.chain}}},c.prototype),d(a.chains.not,{enumerable:!1,modifier:function(a){return function(){return(!a.apply(e[--f],arguments))._.chain}}},c.prototype))}function d(a,b,c){var d=c&&b||{},c=c||b;d.override=d.override!==!1,d.overwrite=d.overwrite!==!1;for(var e in c)if(c.hasOwnProperty(e)){var f=Object.getOwnPropertyDescriptor(c,e),h=!(!f.get&&!f.set),i={};!h&&c[e].hasOwnProperty("value")&&(i=c[e],f.value=i.value,i.clone&&(f.value=g.clone(i.value)),i.exec&&(f.value=i.value(a))),f.enumerable=void 0!==i.enumerable?i.enumerable:void 0!==d.enumerable?d.enumerable:f.enumerable,f.configurable=void 0!==i.configurable?i.configurable:void 0!==d.configurable?d.configurable:f.configurable,f.writable=void 0!==i.writable?i.writable:void 0!==d.writable?d.writable:f.writable,h&&delete f.writable,d.modifier&&"function"==typeof f.value&&(f.value=d.modifier(f.value));var j=void 0!==i.override?i.override:d.override,k=void 0!==i.overwrite?i.overwrite:d.overwrite,l=(i.aliases||[]).concat(e);l.forEach(function(b){if(a.hasOwnProperty(b)){if(!k)return;if(d.validate&&!i.overwrite)throw"unvalidated overwrite of property: "+b+". Please add overwrite=true to the config object if you want to overwrite it";d.log&&console[d.log]("overwriting existing property: "+b)}else if(b in a){if(!j)return;if(d.validate&&!i.override)throw"unvalidated override of property: "+b+". Please add override=true to the config object if you want to override it";d.log&&console[d.log]("overriding existing property: "+b)}Object.defineProperty(a,b,f)})}return a}var e=[],f=0,g={not:{}};return g.is={array:Array.isArray},g.to={array:function(a){var b=g.typeOf(a);switch(b){case"arguments":return Array.prototype.slice.call(a,0);case"object":case"function":return Object.getOwnPropertyNames(a).map(function(b){return{prop:b,value:a[b]}});case"array":return a;case"undefined":case"null":return[];default:return[a]}},"int":function(a){return 0|a}},d(g,{create:function(a){return a===Array.prototype?[]:Object.create(a)}}),a(Object,"obj",{"static":{clone:function h(a){var h=g.create(a._.proto()),b=a._.names();return b._.each(function(b){h._.define(b,a._.descriptor(b))}),h},cloneDeep:function(a){var b;try{b=a._.names()}catch(c){return a}var d=g.create(a._.proto());return b._.each(function(b){var c=a._.descriptor(b);c.value&&(c.value=g.cloneDeep(c.value)),d._.define(b,c)}),d},empty:function(){return this.each(function(a){delete this[a]},this),this},extend:d,isDefined:function(a){return void 0!==a},isUndefined:function(a){return void 0===a},typeOf:function(a){return Object.prototype.toString.call(a)._.between("[object ","]")._.decapitalize()}},prototype:{_add:function(a,b){return this[b]=a,this},define:function(a,b){return Object.defineProperty(this,a,b)},del:function(){return arguments._.eachRight(function(a){delete this[a]},this),this},del$:function(a,b){return this._.each(function(c,d,e){a.call(b,d,e)&&delete this[d]},this),this},$del:function(){var a=arguments,b=g.create(this._.proto());return this._.each(function(c,d){a._.not.has(d)&&b._._add(c,d)},this),b},$del$:function(a,b){var c=g.create(this._.proto());return this._.each(function(d,e,f,g){a.call(b,e,f,g)||c._._add(d,e)},this),c},descriptor:function(a){return Object.getOwnPropertyDescriptor(this,a)},each:function(a,b){for(var c in this)if(this.hasOwnProperty(c)&&a.call(b,this[c],c,this)===!1)break},eachRight:function(a,b){for(var c=1,d=this.length-1,e=-1,f=d;f>e&&(void 0===this[f]&&!this.hasOwnProperty(f)||a.call(b,this[f],f,this)!==!1);f-=c);return this},filter:function(a,b){var c=[];return this._.each(function(d){a.call(b,d)&&c.push(d)}),c},find:function(a,b){var c;return this._.each(function(d){return a.call(b,d)?(c=d,!1):void 0}),c},has:{aliases:["contains"],value:function(a){var b=!1;return this._.each(function(c){return a===c?!(b=!0):void 0}),b}},keyOf:{aliases:["indexOf"],value:function(a){var b=-1;return this._.each(function(c,d){return a===c?(b=d,!1):void 0}),b}},keys:function(){return Object.keys(this)},remove:function(){var a,b=arguments,c=arguments.length;return this._.each(function(d,e){return a=b._.indexOf(d),~a?(this._.del(e),delete b[a],--c>0):void 0},this),this},remove$:function(a,b){return this._.each(function(c,d,e,f){return a.call(b,c,d,e,f)?(this._.del(d),!1):void 0},this),this},$remove:function(){var a,b=g.create(this._.proto()),c=arguments;return this._.each(function(d,e){a=c._.indexOf(d),~a?delete c[a]:b._._add(d,e)},this),b},$remove$:function(a,b){var c=g.create(this._.proto()),d=!1;return this._.each(function(e,f,g,h){!d&&a.call(b,e,f,g,h)?d=!0:c._._add(e,f)},this),c},removeAll:function(){var a=arguments;return this._.each(function(b,c){a._.has(b)&&delete this[c]},this),this},removeAll$:function(a,b){return this._.each(function(c,d,e){a.call(b,c,d,e)&&delete this[d]},this),this},$removeAll:function(){var a=g.create(this._.proto()),b=arguments;return this._.each(function(c,d){b._.not.has(c)&&a._._add(c,d)},this),a},$removeAll$:function(a,b){var c=g.create(this._.proto());return this._.each(function(d,e,f,g){a.call(b,d,e,f,g)||c._._add(d,e)},this),c},select:function(){var a=arguments;return this._.removeAll$(function(b){var c=a._.indexOf(b);return~c&&delete a[c],!~c})},select$:function(a,b){var c=!1;return this._.removeAll$(function(){return a.apply(this,arguments)&&!c?!(c=!0):!0},b)},$select:function(){var a=arguments;return this._.$removeAll$(function(b){var c=a._.indexOf(b);return~c&&delete a[c],!~c})},$select$:function(a,b){var c=!1;return this._.$removeAll$(function(){return a.apply(this,arguments)&&!c?!(c=!0):!0},b)},selectAll:function(){var a=arguments;return this._.removeAll$(function(b){return!~a._.indexOf(b)})},selectAll$:function(a,b){return this._.removeAll$(g.fnc.not(a),b)},$selectAll:function(){var a=arguments;return this._.$removeAll$(function(b){return!~a._.indexOf(b)})},$selectAll$:{aliases:["findAll"],value:function(a,b){return this._.$removeAll$(g.fnc.not(a),b)}},size:function(){var a=0;for(var b in this)this._.owns(b)&&a++;return a},names:function(){return Object.getOwnPropertyNames(this)},owns:Object.prototype.hasOwnProperty,pairs:function(){var a=[];return this._.each(function(b,c){a.push(c,b)}),a},proto:function(a){return void 0===a?Object.getPrototypeOf(this):(this._._proto__=a,this)},toString:function(){var a="";for(var b in this)this.hasOwnProperty(b)&&(a+=(a?", ":"{")+b+": "+(this[b]?this[b]._.toString():this[b]));return a+"}"},values:function(){var a=[];return this._.each(function(b){a.push(b)}),a}}}),a(Array,"arr",{"static":{concat:function(){return Array.prototype.concat.apply([],arguments)}},prototype:{append:function(){var a;return arguments._.each(function(b){b&&(a=this.length,this.length+=b.length,b._.each(function(b,c,d){void 0===b&&d._.not.owns(c)||(this[a+c]=b)},this))},this),this},$append:function(){return g.clone(this)._.append.apply(this,arguments)},avg:function(){return this.length?this._.sum()/this.length:void 0},compact:function(){return this._.removeAll$(function(a){return!a})},$compact:function(){return this._.$removeAll$(function(a){return!a})},del:function(){return arguments._.eachRight(function(a){this.splice(a,1)},this),this},del$:function(a,b){return this._.eachRight(function(c,d,e,f){a.call(b,d,e,f)&&this.splice(d,1)},this),this},removeAll:function(){var a=arguments;return this._.eachRight(function(b,c){~a._.indexOf(b)&&this.splice(c,1)},this),this},removeAll$:function(a,b){return this._.eachRight(function(c,d,e,f){a.call(b,c,d,e,f)&&this.splice(d,1)},this),this},diff:function(a){return this._.remove.apply(this,a)},$diff:function(a){return this._.$remove.apply(this,a)},dimit:function(a,b){function c(d,f,h){for(var i=0,j=h[f];j>i;i++)d[i]=f===h.length-1?e.call(b):new Array(h[f+1]),f===h.length-2&&g.isUndefined(a)||c(d[i],f+1,h)}var d=g.clone(this);this.length=d[0];var e="function"==typeof a?a:function(){return a};return c(this,0,d),this},$dimit:function(a,b){function c(d,e,h){for(var i=0,j=h[e];j>i;i++)d[i]=e===h.length-1?f.call(b):new Array(h[e+1]),e===h.length-2&&g.isUndefined(a)||c(d[i],e+1,h)}var d=this,e=new Array(d[0]),f="function"==typeof a?a:function(){return a};return c(e,0,d),e},each:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=1);for(var d,e,f=0,g=this.length,h=g,i=0,j=f;g>j;j+=a)if(void 0!==(d=this[j])||this.hasOwnProperty(j)){if(b.call(c,this[j],j,this,i)===!1)return!1;(e=this.length-h)&&(j+=e,g+=e,h+=e,i+=e)}return!0},eachRight:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=1);for(var d=this.length-1,e=-1,f=d;f>e&&(void 0===this[f]&&!this.hasOwnProperty(f)||b.call(c,this[f],f,this)!==!1);f-=a);return this},first:function(a){return void 0===a?this[0]:(this[0]=a,this)},flatten:function(){return this._.each(function(a,b){g.is.array(a)&&this.splice.apply(this,a._.insert(1)._.insert(b))},this)},$flatten:function(){return this.concat.apply([],this)},has:{aliases:["contains"],value:function(a){return this.indexOf(a)>-1}},insert:function(a,b){return this.splice(b,0,a),this},intersect:function(a){return this._.select.apply(this,a)},$intersect:function(a){return this._.$select.apply(this,a)},intersects:function(a){var b=!1;return this._.each(function(c){return a._.has(c)?(b=!0,!1):void 0}),b},last:function(a){return void 0===a?this[this.length-1]:(this[this.length-1]=a,this)},max:function(a){if(void 0===a)return Math.max.apply(null,this);var b=this[0];return this._.each(function(c){a(c,b)>0&&(b=c)}),b},min:function(a){if(void 0===a)return Math.min.apply(null,this);var b=this[0];return this._.each(function(c){a(c,b)<0&&(max=c)}),b},modify:function(a,b){return this._.each(function(c,d){this[d]=a.call(b,c,d,this)},this),this},$modify:function(a,b){return g.clone(this)._.modify(a,b)},push:function(){return this.push.apply(this,arguments),this},_add:function(a){return this.push(a),this},random:function(){return this[g.int.random(0,this.length-1)]},size:function(a){return void 0===a?this.length:(this.length=a,this)},sum:function(){return this.length?this.reduce(function(a,b){return a+b}):void 0},toString:function(){for(var a="[",b=0,c=this.length;c>b;b++)a+=(b?", ":"")+this[b]._.toString();return a+"]"},unify:function(a){return this._.append(a)._.unique()},$unify:function(a){var b=this._.$append(a);return b._.unique()},unique:function(){return this._.eachRight(function(a,b){this._.each(function(c,d){return a===c&&b>d?(this.splice(b,1),!1):b>d},this)},this),this},$unique:function(){var a=[];return this._.each(function(b){a._.not.has(b)&&a.push(b)},this),a}}}),a(String,"str",{prototype:{after:function(a){var b=this.indexOf(a);return~b?this.slice(b+a.length):this},afterLast:function(a){var b=this.lastIndexOf(a);return~b?this.slice(b+a.length):this},before:function(a){var b=this.indexOf(a);return~b?this.slice(0,b):this},beforeLast:function(a){var b=this.lastIndexOf(a);return~b?this.slice(0,b):this},between:function(a,b){return this._.after(a)._.before(b)},capitalize:function(){return this[0]?this[0].toUpperCase()+this.slice(1):this},decapitalize:function(){return this[0]?this[0].toLowerCase()+this.slice(1):this},endsWith:function(a){return this.slice(-a.length)===a},has:function(a){return!!~this.indexOf(a)},insert:function(a,b){return this._.splice(b,0,a)},isLowerCase:function(){return this==this.toLowerCase()},isUpperCase:function(){return this==this.toUpperCase()},get last(){return this[this.length-1]},splice:function(a,b,c){return this.slice(0,a)+c+this.slice(a+__math.abs(b))},startsWith:function(a){return!this.indexOf(a)},toString:function(){return this}}}),a(Number,"num",{"static":{isNumber:function(a){return"number"==typeof a&&!isNaN(a)},random:function(a,b){if(void 0===a)return Math.random();var c=(b||0)-a,d=c?a:0;return Math.random()*c+d},rebound:function(a){return function(b,c){return b+a%(c-b)}}},prototype:{get sign(){return this>0?1:0>this?-1:0},get even(){return!(1&this)},get odd(){return!!(1&this)},get parity(){return 1&this},pow:function(a){return Math.pow(this,a)},between:function(a,b){return this>=a&&b>=this},bound:function(a,b){return Math.min(Math.max(this,a),b)},rebound:function(a,b){return a+this%(b-a)},toString:function(){return this+""}}}),a(Function,"fnc",{"static":{callAfter:function(a,b,c){setTimeout(function(){b.call(c)},a)},defer:function(a,b){setTimeout(function(){a.call(b)},0)},memoize:function(){},partial:function(a,b){var c=arguments;return function(){for(var a=0,d=0;a<c.length&&d<arguments.length;a++)void 0===c[a]&&(c[a]=arguments[d++]);return b.apply(this,c)}},strap:function(a,b){var c=g.to.array(arguments);return b=c.pop(),b.bind.apply(b,[null]._.append(c))},bind:function(a,b,c){var d=g.arr(arguments);return c=d.pop(),c.bind.apply(c,d)},inherit:function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a._super=b.prototype},mixin:function(a,b){a._mixin=function(a){return a.prototype},b._.each(function(b){g.extend(a,b),g.extend(a.prototype,b.prototype)})},nest:function(a,b){var c=void 0===b?a:arguments;return function(){for(var a=0,b=c.length;b>a;a++)c[a].apply(this,arguments)}},not:function(a){return function(){return!a.apply(this,arguments)}}},prototype:{toString:function(){return this.toString()},get name(){return g.isDefined(Function.prototype.name)?this.name:this.toString().match(/^function\s?([^\s(]*)/)[1]}}}),a(Math,"math",{"static":{byProb:function(a){return Math.random()<a},distance:function(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))},distanceSquared:function(a,b,c,d){return(a-c)*(a-c)+(b-d)*(b-d)},angle:function(a,b){return(g.rad2Deg(Math.atan2(a,-b))+360)%360},angleSloped:function(a,b){return(90-g.rad2Deg(Math.atan2(a,-b))+360)%360},angleInvert:function(a){return(a+540)%360},deg2Rad:function(){var a=Math.PI/180;return function(b){return b*a}}(),log10:function(a){return Math.log(a)/Math.LN10},rad2Deg:function(){var a=180/Math.PI;return function(b){return b*a}}(),maxmore:function(){for(var a=1,b=0,c=arguments.length;c>a;a++)arguments[b]<arguments[a]&&(b=a);return arguments[b]},minmore:function(){for(var a=1,b=0,c=arguments.length;c>a;a++)arguments[a]<arguments[b]&&(b=a);return arguments[b]}}}),a(null,"int",{"static":{len:function(a){return a?1+g.log10(a)|0:1},leadZeros:function(a,b){return(a/Math.pow(10,b)).toFixed(b).substr(2)},random:function(a,b){return a+Math.random()*(b+1-a)|0},rebound:function(a){return function(b,c){var d=a%(Math.abs(c-b)+1);return(0>d?c+1:b)+d}}}}),g});