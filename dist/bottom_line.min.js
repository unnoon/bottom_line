!function(a,b){var c=!0,d="function"==typeof define&&!!define.amd,e="undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports;switch(c){case d:define(b);break;case e:module.exports=b();break;default:b(a)}}(this,function(a){"use strict";function b(a,b,f){var g=f&&b||{},f=f||b,k=g["native"],l=g.base?e(g["native"]):{};l.not={},l.methods={};var m=l._methods="obj"===a?{not:{}}:Object.create(j.obj._methods,{not:{value:Object.create(j.obj._methods.not)}}),n=l._chains="obj"===a?{not:{}}:Object.create(j.obj._chains,{not:{value:Object.create(j.obj._chains.not)}});return Object.defineProperty(l._methods,"chain",{get:function(){return n},enumerable:!1,configurable:!1}),Object.defineProperty(l._chains,"value",{get:function(){var a=h[--i];return a.valueOf?a.valueOf():a},enumerable:!1,configurable:!1}),k&&k.prototype&&(k.prototype.hasOwnProperty("_")||Object.defineProperty(k.prototype,"_",{enumerable:!1,configurable:!1,get:function(){return h[i++]=this,m},set:function(a){Object.defineProperty(this,"_",{value:a,enumerable:!0,configurable:!0,writable:!0})}})),g.global!==!1&&(j[a]=l),c(l,f["static"]),d(l,f.prototype),l}function c(a,b){b&&(f(a,{enumerable:!1},b),f(a.not,{enumerable:!1,modifier:function(b){return function(){return!b.apply(a,arguments)}}},b),(a===j.obj||a===j.fnc)&&(f(j,{enumerable:!1,overwrite:!1},b),f(j.not,{enumerable:!1,overwrite:!1,modifier:function(b){return function(){return!b.apply(a,arguments)}}},b)))}function d(a,b){b&&(f(a._methods,{enumerable:!1,modifier:function(a){return function(){return a.apply(h[--i],arguments)}}},b),f(a._methods.not,{enumerable:!1,modifier:function(a){return function(){return!a.apply(h[--i],arguments)}}},b),f(a._chains,{enumerable:!1,modifier:function(a){return function(){return a.apply(h[--i],arguments)._.chain}}},b),f(a._chains.not,{enumerable:!1,modifier:function(a){return function(){return(!a.apply(h[--i],arguments))._.chain}}},b),f(a.methods,{enumerable:!1},b))}function e(a){var b=Object.create(Object.getPrototypeOf(a));return Object.getOwnPropertyNames(a).forEach(function(c){Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(a,c))}),b}function f(a,b,c){var d=c&&b||{},c=c||b;d.override=d.override!==!1,d.overwrite=d.overwrite!==!1,d.onoverwrite=d.onoverwrite||"warn",d.onoverride=d.onoverride||"warn",d.exclude=d.exclude||[],d.shim===!0&&(d.overwrite=!1,d.onoverwrite="ignore");for(var f in c)if(!(!c.hasOwnProperty(f)||d.exclude.length&&~d.exclude.indexOf(f))){var h=Object.getOwnPropertyDescriptor(c,f),i=!(!h.get&&!h.set),j={};!i&&c[f].hasOwnProperty("value")&&(j=c[f],h.value=j.value,j.clone&&(h.value=e(j.value)),j.exec&&(h.value=j.value(a)),j.wrap&&(a.hasOwnProperty(f)&&a[f].hasOwnProperty("add")?h.value.add():h.value=g(a[f],h.value)),j.constant&&(j.configurable=!1,j.writable=!1));var k=e(d);for(var l in j)j.hasOwnProperty(l)&&(k[l]=j[l]);h.enumerable=void 0!==k.enumerable?k.enumerable:h.enumerable,h.configurable=void 0!==k.configurable?k.configurable:h.configurable,h.writable=void 0!==k.writable?k.writable:h.writable,i&&delete h.writable,k.modifier&&"function"==typeof h.value&&(h.value=k.modifier(h.value));var m=(j.aliases||[]).concat(f);m.forEach(function(b){var c=function(a,c,d){var e,f=k[a+"action"],g="override"===a&&c===!0&&("function"!=typeof d||/\b_super\b/.test(d)),h="override"===a&&c===!0&&"function"==typeof d&&!/\b_super\b/.test(d);if("ignore"!==f&&!g&&!k.wrap){if(c===!0?(e=("override"===a?"overriding":"overwriting")+" property: "+b+".",h&&(e+=" But not calling super method.")):e="redundant "+a+" defined in module for property "+b+". "+a+"s are set to false in settings/config","throw"===f)throw e;console[f](e)}};if(a.hasOwnProperty(b)){if(c("overwrite",k.overwrite,h.value),!k.overwrite)return}else if(b in a&&(c("override",k.override,h.value),!k.override))return;Object.defineProperty(a,b,h)})}return a}function g(a){var b=Array.isArray(a)?a:[];if("function"==typeof a)for(var c=0;c<arguments.length;c++)b.push(arguments[c]);var d=function(){for(var a,c=0,d=b.length;d>c;c++)a=b[c].apply(this,arguments);return a};return d._callbacks=b,d.add=function(a,c){return a=c?a.bind(c):a,b.push(a),this},d.addOnce=function(a,c){a=c?a.bind(c):a;var e=function(){return d.remove(e),a.apply(this,arguments)};return b.push(e),this},d.remove=function(a){var c=b.indexOf(a);return~c?b.splice(c,1):console.warn("trying to remove function from wrapper that is not registered as a callback"),this},d.removeAll=function(){return b=[],this},d}var h=[],i=0,j={version:"0.0.5",not:{}};if(a){if(a.hasOwnProperty("_"))return void console.error("_ is already defined on root object");a._=j}var k=Object.prototype.toString;return f(j,{inject:function(a,b,e){var f={};f[b]=e,e["static"]?c(a,f):d(a,f)},isArguments:function(a){return"[object Arguments]"===k.call(a)},isArray:Array.isArray,isEmpty:function(a){var b;for(b in a)return!1;return!0},isFunction:function(a){return"function"==typeof a},isInteger:function(a){return"number"===j.typeOf(a)&&a===(0|a)},isNull:function(a){return null===a},isNumber:function(a){return"number"===j.typeOf(a)},isObject:function(a){return"object"===j.typeOf(a)},isPrimitive:function(a){var b=typeof a;switch(b){case"object":case"function":return null===a;default:return!0}},isString:function(a){return"string"===j.typeOf(a)},isUndefined:function(a){return void 0===a},isDefined:function(a){return void 0!==a},toArray:function(a){var b=j.typeOf(a);switch(b){case"arguments":for(var c=arguments.length,d=new Array(c),e=0;c>e;e++)d[e]=arguments[e];return d;case"object":return a._.values();case"array":return a;default:return[]}},toInteger:function(a){switch(j.typeOf(a)){case"number":return 0|a;case"string":return parseInt(a);default:return 0/0}},toNumber:function(a){switch(j.typeOf(a)){case"number":return a;case"string":return parseFloat(a);default:return 0/0}},toString:{onoverride:"ignore",value:function(a){return a?a._.toString():a+""}}}),f(Function.prototype,{shim:!0},{name:function(){return this.toString().match(/^function\s?([^\s(]*)/)[1]},bind:function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}}),f(Math,{shim:!0},{log10:function(a){return Math.log(a)/Math.LN10}}),f(Number,{shim:!0},{isNaN:function(a){return"number"==typeof a&&a!==a}}),b("obj",{"native":Object},{"static":{clone:function l(a){if(j.isPrimitive(a))return a;if(j.isArray(a))return a.slice();var l=j.create(a._.proto()),b=a._.names();return b._.each(function(b){Object.defineProperty(l,b,a._.descriptor(b))}),l},cloneDeep:function(a){if(j.isPrimitive(a))return a;var b=j.create(a._.proto());return a._.names()._.each(function(c){var d=a._.descriptor(c);d.value&&(d.value=j.cloneDeep(d.value)),Object.defineProperty(b,c,d)}),b},create:function(a){return a===Array.prototype?[]:Object.create(a)},extend:f,typeOf:function(a){switch(a){case null:return"null";case void 0:return"undefined";default:return Object.prototype.toString.call(a)._.between("[object ","]")._.decapitalize()}},names:function(a){return null===a||void 0===a?[]:Object.getOwnPropertyNames(a)}},prototype:{_add:function(a,b){return this[b]=a,this},count:function(a){var b=0;return this._.each(function(c){b+=c===a}),b},countFn:function(a){var b=0;return this._.each(function(c){b+=a(c)}),b},define:function(a,b,c){return c=c||{},c.value=b,Object.defineProperty(this,a,c)},constant:function(a,b){return Object.defineProperty(this,a,{value:b,enumerable:!0})},del:function(a){return arguments._.eachRight(function(a){delete this[a]},this),this},delFn:function(a,b){return this._.each(function(c,d,e){a.call(b,d,e)&&delete this[d]},this),this},Del:function(a){var b=arguments,c=j.create(this._.proto());return this._.each(function(a,d){b._.not.has(d)&&c._._add(a,d)},this),c},DelFn:function(a,b){var c=j.create(this._.proto());return this._.each(function(d,e,f,g){a.call(b,e,f,g)||c._._add(d,e)},this),c},descriptor:function(a){return Object.getOwnPropertyDescriptor(this,a)},each:function(a,b){if(j.isArguments(this))return j.arr.methods.each.apply(this,arguments);var c;for(var d in this)if(this.hasOwnProperty(d)&&(c=a.call(b,this[d],d,this))===!1)break;return c},eachRight:function(a,b,c){return j.isArguments(this)?j.arr.methods.eachRight.apply(this,arguments):this._.keys()._.eachRight(function(a){return b.call(c,this[a],a,this)},this)},filter:function(a,b){var c=[];return this._.each(function(d){a.call(b,d)&&c.push(d)}),c},find:function(a,b){var c;return this._.each(function(d){return a.call(b,d)?(c=d,!1):void 0}),c},findRight:function(a,b){var c;return this._.eachRight(function(d){return a.call(b,d)?(c=d,!1):void 0}),c},has:{aliases:["contains"],value:function(a){var b=!1;return this._.each(function(c){return a===c?!(b=!0):void 0}),b}},hasFn:{aliases:["containsFn"],value:function(a,b){return!!this._.find(a,b)}},keyOf:{aliases:["indexOf"],value:function(a){var b=-1;return this._.each(function(c,d){return a===c?(b=d,!1):void 0}),b}},keyOfFn:{aliases:["indexOfFn"],value:function(a,b){var c=-1;return this._.each(function(d,e){return a.call(b,d)?(c=e,!1):void 0}),c}},keys:function(){return Object.keys(this)},remove:function(a){var b,c=arguments,d=arguments.length;return this._.each(function(a,e){return b=c._.indexOf(a),~b?(this._.del(e),delete c[b],--d>0):void 0},this),this},removeFn:function(a,b){return this._.each(function(c,d,e,f){return a.call(b,c,d,e,f)?(this._.del(d),!1):void 0},this),this},Remove:function(a){var b,c=j.create(this._.proto()),d=arguments;return this._.each(function(a,e){b=d._.indexOf(a),~b?delete d[b]:c._._add(a,e)},this),c},RemoveFn:function(a,b){var c=j.create(this._.proto()),d=!1;return this._.each(function(e,f,g,h){!d&&a.call(b,e,f,g,h)?d=!0:c._._add(e,f)},this),c},remove$:function(a){var b=arguments;return this._.each(function(a,c){b._.has(a)&&delete this[c]},this),this},remove$Fn:function(a,b){return this._.each(function(c,d,e){a.call(b,c,d,e)&&delete this[d]},this),this},Remove$:function(a){var b=j.create(this._.proto()),c=arguments;return this._.each(function(a,d){c._.not.has(a)&&b._._add(a,d)},this),b},Remove$Fn:function(a,b){var c=j.create(this._.proto());return this._.each(function(d,e,f,g){a.call(b,d,e,f,g)||c._._add(d,e)},this),c},select:function(a){var b=arguments;return this._.remove$Fn(function(a){var c=b._.indexOf(a);return~c&&delete b[c],!~c})},selectFn:function(a,b){var c=!1;return this._.remove$Fn(function(){return a.apply(this,arguments)&&!c?!(c=!0):!0},b)},Select:function(a){var b=arguments;return this._.Remove$Fn(function(a){var c=b._.indexOf(a);return~c&&delete b[c],!~c})},SelectFn:function(a,b){var c=!1;return this._.Remove$Fn(function(){return a.apply(this,arguments)&&!c?!(c=!0):!0},b)},select$:function(a){var b=arguments;return this._.remove$Fn(function(a){return!~b._.indexOf(a)})},select$Fn:function(a,b){return this._.remove$Fn(j.fnc.negate(a),b)},Select$:function(a){var b=arguments;return this._.Remove$Fn(function(a){return!~b._.indexOf(a)})},Select$Fn:{aliases:["find$"],value:function(a,b){return this._.Remove$Fn(j.fnc.negate(a),b)}},size:{aliases:["length"],value:function(){var a=0;return this._.each(function(){a++}),a}},names:{aliases:["keys$"],value:function(){return Object.getOwnPropertyNames(this)}},owns:Object.prototype.hasOwnProperty,pairs:function(){var a=[];return this._.each(function(b,c){a.push(c,b)}),a},proto:function(a){return void 0===a?Object.getPrototypeOf(this):(this.__proto__=a,this)},toString:{onoverride:"ignore",value:function(a){var b="";return this._.each(function(c,d){var e;j.isPrimitive(c)?e=c:(a||(a=[this]),a._.has(c)?e="[[circular ref]]":(a.push(c),e=c._.toString(a))),b+=(b?", ":"{")+d+": "+e}),b+"}"}},values:function(){var a=[];return this._.each(function(b){a.push(b)}),a}}}),b("arr",{"native":Array},{"static":{concat:function(a){return Array.prototype.concat.apply([],arguments)}},prototype:{append:function(a){var b;return arguments._.each(function(a){a&&(b=this.length,this.length+=a.length,a._.each(function(a,c,d){void 0===a&&d._.not.owns(c)||(this[b+c]=a)},this))},this),this},Append:function(a){return j.clone(this)._.append.apply(null,arguments)},avg:function(){return this.length?this._.sum()/this.length:void 0},compact:function(){return this._.remove$Fn(function(a){return!a})},Compact:function(){return this._.Remove$Fn(function(a){return!a})},del:{onoverride:"ignore",value:function(a){return arguments._.eachRight(function(a){this.splice(a,1)},this),this}},delFn:{onoverride:"ignore",value:function(a,b){return this._.eachRight(function(c,d,e,f){a.call(b,d,e,f)&&this.splice(d,1)},this),this}},remove$:{onoverride:"ignore",value:function(a){var b=arguments;return this._.eachRight(function(a,c){~b._.indexOf(a)&&this.splice(c,1)},this),this}},remove$Fn:{onoverride:"ignore",value:function(a,b){return this._.eachRight(function(c,d,e,f){a.call(b,c,d,e,f)&&this.splice(d,1)},this),this}},diff:function(a){return arguments._.each(function(a){return this._.remove.apply(this,a)},this),this},Diff:function(a){return 1===arguments.length?this._.Remove.apply(this,a):j.clone(this)._.diff.apply(null,arguments)},dimit:{aliases:["dimensionalize"],value:function(a){function b(c,d,f){for(var g=0,h=f[d];h>g;g++)c[g]=d===e?j.clone(a):new Array(f[d+1]),b(c[g],d+1,f)}var c=this,d=new Array(c[0]),e=c.length-1;return b(d,0,c),d}},each:{onoverride:"ignore",value:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=1);for(var d,e,f,g=0,h=this.length,i=h,j=0,k=g;h>k;k+=a)if(void 0!==(d=this[k])||this.hasOwnProperty(k)){if((f=b.call(c,this[k],k,this,j))===!1)break;(e=this.length-i)&&(k+=e,h+=e,i+=e,j+=e)}return f}},eachRight:{onoverride:"ignore",value:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=1);for(var d,e=this.length-1,f=-1,g=e;g>f&&(void 0===this[g]&&!this.hasOwnProperty(g)||(d=b.call(c,this[g],g,this))!==!1);g-=a);return d}},first:function(a){return void 0===a?this[0]:(this[0]=a,this)},flatten:function(){return this._.each(function(a,b){j.isArray(a)&&this.splice.apply(this,a._.insert(1)._.insert(b))},this),this},Flatten:function(){return this.concat.apply([],this)},has:{aliases:["contains"],onoverride:"ignore",value:function(a){return this.indexOf(a)>-1}},insert:function(a,b){return this.splice(b,0,a),this},intersect:function(a){return this._.select.apply(this,a)},Intersect:function(a){return this._.Select.apply(this,a)},intersects:function(a){var b=!1;return this._.each(function(c){return a._.has(c)?!(b=!0):void 0}),b},last:function(a){return void 0===a?this[this.length-1]:(this[this.length-1]=a,this)},max:function(a){if(void 0===a)return Math.max.apply(null,this);var b=this[0];return this._.each(function(c){a(c,b)>0&&(b=c)}),b},min:function(a){if(void 0===a)return Math.min.apply(null,this);var b=this[0];return this._.each(function(c){a(c,b)<0&&(b=c)}),b},modify:function(a,b){return this._.each(function(c,d){this[d]=a.call(b,c,d,this)},this),this},Modify:function(a,b){return j.clone(this)._.modify(a,b)},push:function(a){return this.push.apply(this,arguments),this},_add:{onoverride:"ignore",value:function(a){return this.push(a),this}},random:function(){return this[j["int"].random(0,this.length-1)]},rm:function(a){return this.splice(this.indexOf(a),1),this},shuffle:function(){for(var a,b,c=this.length;c;a=Math.floor(Math.random()*c),b=this[--c],this[c]=this[a],this[a]=b);return this},size:{onoverride:"ignore",value:function(a){return void 0===a?this.length:(this.length=a,this)}},sum:function(){return this.length?this.reduce(function(a,b){return a+b}):void 0},toString:{onoverride:"ignore",value:function(){for(var a="[",b=0,c=this.length;c>b;b++)a+=(b?", ":"")+this[b]._.toString();return a+"]"}},unify:function(a){return this._.append(a)._.unique()},Unify:function(a){var b=this._.Append(a);return b._.unique()},unique:function(){return this._.eachRight(function(a,b){this._.each(function(c,d){return a===c&&b>d?(this.splice(b,1),!1):b>d},this)},this),this},Unique:function(){var a=[];return this._.each(function(b){a._.not.has(b)&&a.push(b)},this),a}}}),b("str",{"native":String},{prototype:{after:function(a){var b,c=this.valueOf();return arguments._.each(function(a){b=c.indexOf(a),c=~b?c.slice(b+a.length):c}),c},afterLast:function(a){var b,c=this.valueOf();return arguments._.each(function(a){b=c.lastIndexOf(a),c=~b?c.slice(b+a.length):c}),c},before:function(a){var b,c=this.valueOf();return arguments._.each(function(a){b=c.indexOf(a),c=~b?c.slice(0,b):c}),c},beforeLast:function(a){var b,c=this.valueOf();return arguments._.each(function(a){b=c.lastIndexOf(a),c=~b?c.slice(0,b):c}),c},between:function(a,b){return this._.after(a)._.before(b)},betweenLast:function(a,b){return this._.beforeLast(b)._.afterLast(a)},capitalize:function(){return this[0]?this[0].toUpperCase()+this.slice(1):this.valueOf()},decapitalize:function(){return this[0]?this[0].toLowerCase()+this.slice(1):this.valueOf()},endsWith:function(a){return this.slice(-a.length)===a},has:{onoverride:"ignore",value:function(a){return!!~this.indexOf(a)}},insert:function(a,b){return this._.splice(b,0,a)},isLowerCase:function(){return this==this.toLowerCase()},isUpperCase:function(){return this==this.toUpperCase()},get last(){return this[this.length-1]},splice:function(a,b,c){return this.slice(0,a)+c+this.slice(a+__math.abs(b))},startsWith:function(a){return!this.indexOf(a)},toString:{onoverride:"ignore",value:function(){return this.toString()}}}}),b("num",{"native":Number},{"static":{isNumber:function(a){return"number"==typeof a&&!isNaN(a)},random:function(a,b){if(void 0===a)return Math.random();var c=(b||0)-a,d=c?a:0;return Math.random()*c+d},rebound:function(a){return function(b,c){return b+a%(c-b)}}},prototype:{sign:function(a){return void 0===a?this>0?1:0>this?-1:0:a*Math.abs(this)},get even(){return!(1&this)},get odd(){return!!(1&this)},get parity(){return 1&this},pow:function(a){return Math.pow(this,a)},between:function(a,b){return this>=a&&b>=this},bound:{aliases:["clamp"],value:function(a,b){return Math.min(Math.max(this,a),b)}},rebound:function(a,b){return a+this%(b-a)},toString:{onoverride:"ignore",value:function(){return this.toString()}}}}),b("fnc",{"native":Function},{"static":{bind:function(a,b,c){if(j.isFunction(a))return a.bind(b);if(a._.not.has(void 0))return a.unshift(c),b.bind.apply(b,a);var d=a._.count(void 0),e=a.length;return function(){for(var f=arguments.length,g=e+f-d,h=g-1,i=f-1;h>=0;h--)arguments[h]=void 0!==a[h]&&e>h?a[h]:arguments[i--];return arguments.length=g,b.apply(c,arguments)}},defer:function(a,b){setTimeout(function(){a.call(b)},0)},delay:{aliases:["callAfter"],value:function(a,b,c){setTimeout(function(){b.call(c)},a)}},inherit:function(a,b,c){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a[c||"_super"]=b.prototype},mixin:function(a,b){a._mixin=function(a){return a.prototype},b._.each(function(b){j.extend(a,b),j.extend(a.prototype,b.prototype)})},negate:function(a){return function(){return!a.apply(this,arguments)}},repeat:function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},wrap:g},prototype:{toString:{onoverride:"ignore",value:function(){return this.toString()}}}}),b("int",{"static":{length:function(a){return a?1+Math.log10(a)|0:1},leadZeros:function(a,b){var c="string"==typeof b?b.length:b;return a=j["int"].length(a)>c?Math.pow(10,c)-1:a,(a/Math.pow(10,c)).toFixed(c).substr(2)},random:function(a,b){return a+Math.random()*(b+1-a)|0},rebound:function(a){return function(b,c){var d=a%(Math.abs(c-b)+1);return(0>d?c+1:b)+d}}}}),b("math",{"native":Math,base:!0},{"static":{byProb:function(a){return Math.random()<a},deg:{convert:function(){var a=180/Math.PI;return function(b){return b*a}}(),angle:function(a,b){return j.math.deg.convert(Math.atan2(a,-b))},angleSloped:function(a,b){return 90-j.math.deg.angle(a,b)},invert:function(a){return a+180},normalize:function(a){return(a+360)%360}},rad:{convert:function(){var a=Math.PI/180;return function(b){return b*a}}()},distance:function(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))},distanceSquared:function(a,b,c,d){return(a-c)*(a-c)+(b-d)*(b-d)},maxm:function(){for(var a=1,b=0,c=arguments.length;c>a;a++)arguments[b]<arguments[a]&&(b=a);return arguments[b]},minm:function(){for(var a=1,b=0,c=arguments.length;c>a;a++)arguments[a]<arguments[b]&&(b=a);return arguments[b]}}}),j});